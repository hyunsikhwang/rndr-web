# ğŸ“Š DART ì¬ë¬´ì œí‘œ ì‹œê°í™” ì›¹ (DART Financials Web)

**Open DART API**ë¥¼ í™œìš©í•˜ì—¬ êµ­ë‚´ ìƒì¥ ê¸°ì—…ì˜ ë¶„ê¸°ë³„ ì£¼ìš” ì¬ë¬´ ë°ì´í„°(ë§¤ì¶œì•¡, ì˜ì—…ì´ìµ)ë¥¼ ë¹ ë¥´ê³  ì§ê´€ì ìœ¼ë¡œ ì‹œê°í™”í•´ì£¼ëŠ” ëª¨ë°”ì¼ ì¹œí™”ì  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

**FastAPI**ë¡œ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, **DuckDB ìºì‹±**, **ë³‘ë ¬ ì²˜ë¦¬**, **ìŠ¤ë§ˆíŠ¸ í”„ë¡œë¹„(Smart Probing)** ê¸°ìˆ ì„ ë„ì…í•˜ì—¬ ì••ë„ì ì¸ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ìë‘í•©ë‹ˆë‹¤.

![UI Preview](https://via.placeholder.com/800x400?text=DART+Financial+Web+UI)

## ğŸš€ í•µì‹¬ ê¸°ëŠ¥

### 1. ì„±ëŠ¥ ìµœì í™” (Performance Optimization)
*   **DuckDB ìºì‹± ğŸ¦†**: ë¡œì»¬ íŒŒì¼ ê¸°ë°˜ì˜ SQL DB(DuckDB)ë¥¼ ë„ì…í•˜ì—¬, í•œ ë²ˆ ì¡°íšŒí•œ ë°ì´í„°ëŠ” ì˜êµ¬ ì €ì¥í•©ë‹ˆë‹¤. ì¬ì¡°íšŒ ì‹œ **API í˜¸ì¶œ ì—†ì´ 0ì´ˆ(0ms)** ë§Œì— ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
*   **ìŠ¤ë§ˆíŠ¸ í”„ë¡œë¹™ (Smart Probing) ğŸ§ **: ê¸°ì—…ë§ˆë‹¤ ë‹¤ë¥¸ ì¬ë¬´ì œí‘œ ì œì¶œ ë°©ì‹(ì—°ê²° vs ë³„ë„)ì„ ë™ì ìœ¼ë¡œ ê°ì§€í•©ë‹ˆë‹¤. ìµœì‹  ë¶„ê¸°ë¥¼ ë¨¼ì € ì¡°íšŒí•˜ì—¬ í•´ë‹¹ ê¸°ì—…ì˜ ë³´ê³ ì„œ í˜•íƒœë¥¼ íŒŒì•…í•œ ë’¤, í•„ìš”í•œ ë°ì´í„°ë§Œ ê³¨ë¼ì„œ ìš”ì²­í•˜ë¯€ë¡œ API í˜¸ì¶œ ìˆ˜ë¥¼ ì•½ **50% ì ˆê°**í•©ë‹ˆë‹¤.
*   **ë³‘ë ¬ ì²˜ë¦¬ (Parallel Execution) âš¡**: `ThreadPoolExecutor`ì™€ **20ê°œì˜ ì›Œì»¤(Worker)** ë¥¼ ì‚¬ìš©í•˜ì—¬ 10ë…„ ì¹˜ ì´ìƒì˜ ë°ì´í„°ë¥¼ ë™ì‹œì— ìˆ˜ì§‘í•©ë‹ˆë‹¤.
*   **ì—°ê²° í’€ë§ (Connection Pooling)**: `requests.Session`ì„ ì‚¬ìš©í•˜ì—¬ TCP ì—°ê²°ì„ ì¬ì‚¬ìš©, ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì˜€ìŠµë‹ˆë‹¤.

### 2. ìµœì‹  UI/UX
*   **í´ë¦° í”„ë¦¬ë¯¸ì—„ ë””ìì¸**: ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜(Glassmorphism) ìŠ¤íƒ€ì¼ì˜ ê¹”ë”í•˜ê³  í˜„ëŒ€ì ì¸ í™”ì´íŠ¸/ê·¸ë ˆì´ í…Œë§ˆ.
*   **ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸**: ìŠ¤ë§ˆíŠ¸í°ì—ì„œë„ ì™„ë²½í•˜ê²Œ ë³´ì´ëŠ” ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒê³¼ ê°€ë¡œ ìŠ¤í¬ë¡¤ í…Œì´ë¸” ì§€ì›.
*   **ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ**:
    *   ì¡°íšŒ ì¤‘ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë° ì²˜ë¦¬ ì‹œê°„ í‘œì‹œ (ì˜ˆ: `â±ï¸ ì²˜ë¦¬ ì‹œê°„: 0.45ì´ˆ`).
    *   ê°€ë…ì„±ì„ ìœ„í•´ ëª¨ë“  ê¸ˆì•¡ ë‹¨ìœ„ëŠ” **'ë°±ë§Œì›'**ìœ¼ë¡œ ìë™ ë³€í™˜.
    *   ì¤‘ìš” ì§€í‘œì¸ **ì˜ì—…ì´ìµë¥ ** ìë™ ê³„ì‚° ë° í‘œì‹œ.

### 3. ë°°í¬ ë° ìš´ì˜ í¸ì˜ì„±
*   **ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥**: [Render](https://render.com)ì™€ ê°™ì€ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì„¤ì • ì—†ì´ ë°”ë¡œ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
*   **Keep-Alive ì›Œí¬í”Œë¡œìš°**: ë¬´ë£Œ í‹°ì–´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì ˆì „ ëª¨ë“œë¡œ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ GitHub Actions ìë™í™”(`keep_alive.yml`)ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ— ì•„í‚¤í…ì²˜ (Architecture)

```mermaid
graph TD
    User(["ì‚¬ìš©ì"]) -->| "ê²€ìƒ‰ ìš”ì²­ (ê¸°ì—…ëª…, ê¸°ê°„)" | API["FastAPI ì„œë²„"]
    API -->| "1. ì¡°íšŒ" | Cache[("DuckDB")]
    Cache -- "ë°ì´í„° ìˆìŒ (Hit)" --> API
    Cache -- "ë°ì´í„° ì—†ìŒ (Miss)" --> Prober{"ìŠ¤ë§ˆíŠ¸ íƒìƒ‰ê¸°"}
    Prober -->| "íƒìƒ‰ ìš”ì²­ (ì—°ê²°/ë³„ë„ í™•ì¸)" | DART["Open DART API"]
    DART -->| "ê²°ê³¼ ë°˜í™˜" | Prober
    Prober -- "ì—°ê²° í™•ì¸" --> Batch["ë³‘ë ¬ ìˆ˜ì§‘ê¸°"]
    Prober -- "ë³„ë„ í™•ì¸" --> Batch
    Batch -->| "ë³‘ë ¬ API ìš”ì²­" | DART
    DART -->| "ì¬ë¬´ ë°ì´í„°" | Batch
    Batch -->| "2. ë°ì´í„° ì €ì¥ (Upsert)" | Cache
    Batch -->| "3. ì‘ë‹µ ë°˜í™˜" | API
    API -->| "HTML ë Œë”ë§" | User
```

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

*   **Backend**: Python 3.10+, FastAPI, Uvicorn
*   **Database**: DuckDB (ë‚´ì¥í˜• ë¶„ì„ìš© SQL DB)
*   **Data Processing**: Pandas
*   **Frontend**: Server-Side Rendered HTML/CSS (ë‹¨ì¼ íŒŒì¼ `main.py` ë‚´ì¥)
*   **External API**: Open DART API

## ğŸƒ ì‹œì‘í•˜ê¸° (Getting Started)

### í•„ìˆ˜ ì¡°ê±´
*   Python 3.10 ì´ìƒ
*   [Open DART API í‚¤ ë°œê¸‰](https://opendart.fss.or.kr/)

### ì„¤ì¹˜ ë°©ë²•

1.  **ì €ì¥ì†Œ ë³µì œ (Clone)**
    ```bash
    git clone https://github.com/hyunsikhwang/rndr-web.git
    cd rndr-web
    ```

2.  **ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜**
    ```bash
    pip install -r requirements.txt
    ```

3.  **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
    `.env` íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ì— API í‚¤ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤:
    ```bash
    export DART_API_KEY="your_api_key_here"
    ```

4.  **ì„œë²„ ì‹¤í–‰**
    ```bash
    uvicorn main:app --reload
    ```

5.  **ì ‘ì†**
    ë¸Œë¼ìš°ì €ë¥¼ ì—´ê³  `http://localhost:8000` ìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
rndr-web/
â”œâ”€â”€ main.py                 # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ (API + UI + ë¡œì§ ëª¨ë‘ í¬í•¨)
â”œâ”€â”€ requirements.txt        # íŒŒì´ì¬ ì˜ì¡´ì„± ëª©ë¡
â”œâ”€â”€ company_codes_cache.json # ê¸°ì—…ëª…-ê³ ìœ ë²ˆí˜¸ ë§¤í•‘ ìºì‹œ íŒŒì¼
â”œâ”€â”€ financial_data.duckdb   # ìˆ˜ì§‘ëœ ì¬ë¬´ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ë¡œì»¬ DB íŒŒì¼
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ keep_alive.yml  # ì„œë¹„ìŠ¤ ìœ ì§€ìš© GitHub Action
â””â”€â”€ README.md               # í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ
```

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” [MIT License](LICENSE) í•˜ì— ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ì œê³µë©ë‹ˆë‹¤.